<wxs module="utils">
module.exports.getHouseName = function(houseName) {
  return houseName && '当前账单房屋：' + houseName
}
module.exports.getMonth = function(mth) {
  return Number(mth.split('-')[1]);
}
</wxs>

<view class="{{empty ? 'container' : 'fixed-bottom-container'}}">
  <view class="content">
    <page-title
      title="我的账单"
      subTitle="{{utils.getHouseName(houseName)}}"
      buttonText="其他房屋账单"
      bind:buttonevent="onButtonTapped"
    />
    <view wx:if="{{empty}}" style="display: flex;flex: 1">
      <empty-list
        text="暂无账单"
        style="flex: 1"
      />
    </view>
    <view class="line" wx:if="{{!empty}}"/>
    <view class="all-bills" wx:if="{{!empty}}">
      <text class="label">全部账单</text>
      <text class="text">去看看</text>
    </view>

    <view class="bill-detail" wx:if="{{!empty}}">
      <view class="bill-card">
        <bill-card
          month="{{utils.getMonth(mth)}}"
          date="{{date}}"
          totalUnpaid="{{totalUnpaid}}"
          totalExpenses="{{totalExpenses}}"
          totalPaid="{{totalPaid}}"
        />
      </view>

      <bill-fee-list data="{{bills}}">
        <bill-fee-item />
      </bill-fee-list>
    </view>
  </view>
  <view class="bottom-bar" wx:if="{{!empty}}">
    <button
      type="primary"
    >
      直接缴费
    </button>
  </view>
</view>
